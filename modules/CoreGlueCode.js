"use strict";var games={advancewars:"Advance Wars",advancewars2:"Advance Wars 2",aladdin:"Aladdin",alienhominid:"Alien Hominid",bomberman_max2blue:"Bomberman Max 2 - Blue Advance",bomberman_tournament:"Bomberman Tournament",bubblebobble:"Bubble Bobble",croket1:"Croket! - Yume no Banker Survival!",croket2:"Croket! 2 - Yami no Bank to Banqueen",croket3:"Croket! 3 - Granu Oukoku no Nazo",croket4:"Croket! 4 - Bank no Mori no Mamorigami",digimon_racing:"Digimon Racing",dbz_supersonic:"Dragon Ball Z - Supersonic Warriors",drilldozer:"Drill Dozer",earthwormjim:"Earthworm Jim",earthwormjim2:"Earthworm Jim 2",ff1and2:"Final Fantasy 1 & 2 Advance",ff4S:"Final Fantasy IV Advance (Sound Restoration Mod)",ff6:"Final Fantasy VI Advance",final_fantasy_tactics:"Final Fantasy Tactics Advance",fire_emblem:"Fire Emblem",frogger1:"Frogger Advance - The Great Quest",frogger2:"Frogger's Adventures - Temple of the Frog",frogger3:"Frogger's Adventures 2 - The Lost Wand",fzero_gp:"F-Zero - GP Legend",fzero_max:"F-Zero - Maximum Velocity",gamewatch4:"Game & Watch Gallery 4",goldensun:"Golden Sun",gunstar_super_heroes:"Gunstar Super Heroes",hamtaro_heartbreak:"Hamtaro - Ham-Ham Heartbreak",iridion:"Iridion 3D",kirbymirror:"Kirby & The Amazing Mirror",kirbynightmare:"Kirby: Nightmare in Dreamland",mariokart:"Mario Kart: Super Circuit",marioparty:"Mario Party Advance",mariopinball:"Mario Pinball Land",mariovsdk:"Mario vs Donkey Kong",megamanbass:"Megaman & Bass",megaman_battle1:"Megaman Battle Network 1",megaman_battle2:"Megaman Battle Network 2",megaman_battle3_blue:"Megaman Battle Network 3 Blue",megaman_battle4_blue:"Megaman Battle Network 4 Blue Moon",megaman_battle4_red:"Megaman Battle Network 4 Red Sun",megaman_battle5:"Megaman Battle Network 5 Team Protoman",megaman_battle6:"Megaman Battle Network 6 Cybeast Falzar",megaman_zero1:"Megaman Zero",megaman_zero2:"Megaman Zero 2",megaman_zero3:"Megaman Zero 3",megaman_zero4:"Megaman Zero 4",metalslug:"Metal Slug Advance",metroid_fusion:"Metroid Fusion",metroid_zeromission:"Metroid Zero Mission",momotarou_dentetsu:"Momotarou Dentetsu G Gold Deck wo Tsukure!",monopoly:"Monopoly",monster_force:"Monster Force",mortal_kombat:"Mortal Kombat Advance",onepiece:"One Piece",pacman_world:"Pacman World",pacman_world2:"Pacman World 2",pokemonflorasky:"Pokemon Flora Sky Rom Hack",pokemonemerald:"Pokemon Emerald",pokemongreen:"Pokemon Leaf Green",mysteryred:"Pokemon Mystery Dungeon Red",pokemonruby:"Pokemon Ruby",pokemonsapphire:"Pokemon Sapphire",pokemonred:"Pokemon Fire Red",gba_video_pokemon_1:"Pokemon Video Pak 1",gba_video_pokemon_2:"Pokemon Video Pak 2",gba_video_pokemon_3:"Pokemon Video Pak 3",gba_video_pokemon_4:"Pokemon Video Pak 4",puyopop:"Puyo Pop",sonic_advance:"Sonic Advance",sonic_advance2:"Sonic Advance 2",sonic_advance3:"Sonic Advance 3",sonicbattle:"Sonic Battle",supermonkeyballjr:"Super Monkey Ball Jr",superstar:"Mario & Luigi: Superstar Saga",supermarioadvance:"Super Mario Advance",supermarioadvance2:"Super Mario Advance 2",supermarioadvance3:"Super Mario Advance 3",supermarioadvance4:"Super Mario Advance 4",simpsons:"The Simpsons: Road Rage",sonicpinball:"Sonic Pinball",super_street_fighter_2_turbo_revival:"Super Street Fighter II: Turbo Revival",super_street_fighter_3_alpha:"Super Street Fighter III: Alpha",sword_of_mana:"Sword of Mana",tales_of_phantasia:"Tales of Phantasia",tak2_staff_of_dreams:"Tak 2: The Staff of Dreams",tetris_worlds:"Tetris Worlds",tmnt:"Teenage Mutant Ninja Turtles",sims_bustin_out:"The Sims: Bustin' Out",sims2:"The Sims 2",spyro_adventure:"Spyro Adventure",spyro_ice:"Spyro: Season of Ice",spyro_flame:"Spyro 2: Season of Flame",turok_evolution:"Turok Evolution",ty2:"Ty the Tasmanian Tiger 2 - Bush Rescue",ty3:"Ty the Tasmanian Tiger 3 - Night of the Quinkan",warioland4:"Wario Land 4",wario_ware:"Wario Ware Inc",zelda_past:"The Legend of Zelda: A Link to the Past",zelda_minish:"The Legend of Zelda: The Minish Cap","-DEBUG-AGB-buttontest":"AGB-buttontest","-DEBUG-arm":"arm","-DEBUG-bios":"bios","-DEBUG-flash64":"flash64","-DEBUG-flash128":"flash128","-DEBUG-gbaframetest":"gbaframetest","-DEBUG-hello":"hello","-DEBUG-memory":"memory","-DEBUG-nes":"nes","-DEBUG-none":"none","-DEBUG-shades":"shades","-DEBUG-sram":"sram","-DEBUG-stripes":"stripes","-DEBUG-suite":"suite","-DEBUG-thumb":"thumb"},defaultTitle=document.title,hashTags=location.hash.substr(1),gameName=games[hashTags],startLetter=hashTags.charAt(0),IodineGUI={Iodine:null,Blitter:null,coreTimerID:null,GUITimerID:null,toMap:null,toMapIndice:0,suspended:!1,isPlaying:!1,startTime:+(new Date).getTime(),mixerInput:null,currentSpeed:[!1,0],defaults:{timerRate:8,sound:!0,volume:1,skipBoot:!1,toggleSmoothScaling:!0,toggleDynamicSpeed:!1,toggleOffthreadGraphics:!0,toggleOffthreadCPU:-1==navigator.userAgent.indexOf("AppleWebKit")||-1!=navigator.userAgent.indexOf("Windows NT 10.0")&&-1==navigator.userAgent.indexOf("Trident"),keyZonesGBA:[88,90,32,13,39,37,38,40,83,65],keyZonesControl:[55,56,52,51,53,54,80,82]}};function downloadBIOS(){downloadFile("../binaries/gba_bios.bin",registerBIOS)}function registerBIOS(){processDownload(this,attachBIOS),downloadROM(location.hash.substr(1))}function downloadROM(e){writeRedTemporaryText('Downloading "'+games[e]+'."'),downloadFile("../binaries/"+e+".gba",registerROM)}function registerROM(){clearTempString(),processDownload(this,attachROM)}function registerIodineHandler(){try{if("function"!=typeof SharedArrayBuffer||"object"!=typeof Atomics)throw null;if(!IodineGUI.defaults.toggleOffthreadCPU&&IodineGUI.defaults.toggleOffthreadGraphics)IodineGUI.Iodine=new iodineGBAWorkerGfxShim;else{if(!IodineGUI.defaults.toggleOffthreadGraphics)throw null;IodineGUI.Iodine=new iodineGBAWorkerShim,addEvent("beforeunload",window,registerBeforeUnloadHandler)}}catch(e){IodineGUI.Iodine=new GameBoyAdvanceEmulator}}function registerBeforeUnloadHandler(e){return IodineGUI.Iodine.pause(),e.preventDefault&&e.preventDefault(),"iodineGBA needs to process your save data, leaving now may result in not saving current data."}function initTimer(){IodineGUI.Iodine.setIntervalRate(+IodineGUI.defaults.timerRate),IodineGUI.coreTimerID=setInterval((function(){IodineGUI.Iodine.timerCallback(+(new Date).getTime()-+IodineGUI.startTime>>>0)}),0|IodineGUI.defaults.timerRate)}function calculateTiming(){IodineGUI.Iodine.setIntervalRate(+IodineGUI.defaults.timerRate)}function startTimer(){IodineGUI.coreTimerID=setInterval((function(){IodineGUI.Iodine.timerCallback(+(new Date).getTime()-+IodineGUI.startTime>>>0)}),0|IodineGUI.defaults.timerRate)}function updateTimer(e){(0|(e|=0))!=(0|IodineGUI.defaults.timerRate)&&(IodineGUI.defaults.timerRate=0|e,IodineGUI.Iodine.setIntervalRate(+IodineGUI.defaults.timerRate),IodineGUI.isPlaying&&(IodineGUI.coreTimerID&&clearInterval(IodineGUI.coreTimerID),initTimer()))}function registerBlitterHandler(){IodineGUI.Blitter=new GfxGlueCode(240,160),IodineGUI.Blitter.attachCanvas(document.getElementById("emulator_target")),IodineGUI.Iodine.attachGraphicsFrameHandler(IodineGUI.Blitter),IodineGUI.Blitter.attachGfxPostCallback((function(){IodineGUI.currentSpeed[0]&&(document.getElementById("speed").textContent="Speed: "+IodineGUI.currentSpeed[1]+"%")}))}function registerAudioHandler(){var e=new GlueCodeMixer(document.getElementById("play"));IodineGUI.mixerInput=new GlueCodeMixerInput(e),IodineGUI.Iodine.attachAudioHandler(IodineGUI.mixerInput)}window.onload=function(){registerDefaultSettings(),registerIodineHandler(),calculateTiming(),registerBlitterHandler(),registerAudioHandler(),registerSaveHandlers(),registerGUIEvents(),registerGUISettings(),games[location.hash.substr(1)]?downloadBIOS():alert("Invalid game request!")};